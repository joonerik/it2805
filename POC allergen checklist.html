<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Proof of concept allergen checklist</title>
        <style>
            div{
                height: 50px;
                width: 50px;
                display: block;
            }
            #red {background: red}
            #yellow {background: yellow}
            #blue {background: blue}
            #orange {background: orange}
            #green {background: green}
            #purple {background: purple}
        </style>
    </head>
    <body>
        <h1>Hide blocks containing the colors:</h1>
        <!-- Checkbox buttons -->
        <input type="checkbox" name="filter" value="red" class="c" onclick="run()">Red<br>
        <input type="checkbox" name="filter" value="yellow" class="c" onclick="run()">Yellow<br>
        <input type="checkbox" name="filter" value="blue" class="c" onclick="run()">Blue<br>

        <!-- Divs -->
        <div id="red"></div>
        <div id="yellow"></div>
        <div id="blue"></div>
        <div id="orange"></div>
        <div id="green"></div>
        <div id="purple"></div>
        
        <script>
            
            var filters;
            var divs = ["red", "yellow", "blue", "orange", "green", "purple"]

            // Overview av hvilke farger som er lagd av hvilke prim√¶rfarger
            // F.eks. hvilke retter som inneholder hvilke allergener
            var dic = {
                "red":      ["red"],
                "yellow":   ["yellow"],
                "blue":     ["blue"],
                "orange":   ["red", "yellow"],
                "green":    ["yellow", "blue"],
                "purple":   ["blue", "red"]
                }

            function run()
            {
                filters = [0,0,0]
                var values = document.getElementsByClassName('c')
                for (var x = 0; values[x]; x++)
                {
                    if (values[x].checked)
                    {
                        filters[x] = values[x].value
                    }

                    for (var i = 0; i < divs.length; i++)
                    {
                        if (dic[divs[i]].some(r=> filters.includes(r)))
                        {
                            document.getElementById(divs[i]).style.display = "none"
                        }
                        else
                        {
                            document.getElementById(divs[i]).style.display = "block"
                        }
                    }
                }



                // iterer over filter og sjekk for overlapp
                // display:hidden overlappende divs


            }
        
        </script>

    </body>
</html>